Dynamics and Control of Diseases in Networks with Community Structure