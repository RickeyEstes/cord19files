Virus isolates. A plaque-purified isolate of equine torovirus, Berne strain (isolate P138/72) (EToV), was kindly provided by Raoul de Groot (Utrecht University) and cultured in equine dermis (ED) cells. This virus was initially isolated from a symptomatic horse in 1972 (15) . ED cells were maintained in Dulbecco's modified Eagle's medium (Invitrogen) supplemented with 10% fetal calf serum, 100 IU/ml penicillin, 100 g/ml streptomycin, 1 mM nonessential amino acids, 25 mM HEPES, and 1% L-glutamine in a humidified incubator at 37°C with 5% CO 2 . RNA sequencing and ribosome profiling. ED cells were infected with EToV for 1 h in serum-free medium (MOI of 0.1) and flash-frozen in liquid nitrogen at 8 h.p.i. prior to either RNA isolation or ribosome purification for profiling. Cells were either not pretreated or, where stated, were treated with a final concentration of 100 g/ml cycloheximide (CHX) for 2 min (Sigma-Aldrich) or 2 g/ml of harringtonine for 3 min (LKT Laboratories), followed by CHX for 2 min before flash-freezing. RNA and ribosomes were harvested according to previously published protocols (17, 58) , with minor modifications. Following either RPF or RNA isolation, duplex-specific nuclease was not utilized but instead rRNA was depleted with the RiboZero [human/mouse/rat] kit (Illumina). Libraries were prepared and sequenced using the NextSeq500 platform (Illumina). Bioinformatic analysis of Ribo-seq and RNA-seq data. Both Ribo-seq and RNA-seq reads were demultiplexed and adaptor sequences trimmed using the FASTX-Toolkit (http://hannonlab.cshl.edu/fastx _toolkit/). Reads shorter than 25 nt after trimming were discarded. (60) . Horse ncRNA sequences were obtained from Ensembl release 89 (61) and combined with horse tRNA sequences from GtRNADB (62). Horse gDNA was obtained from Ensembl release 89. All horse sequences were from the EquCab2.0 genome build. Trimmed reads were then mapped sequentially to the rRNA, vRNA, mRNA, and ncRNA databases using bowtie, version 1.2.1.1 (63) , with parameters -v 2 -best (i.e., maximum 2 mismatches, report best match), with only unmapped reads passed to each following stage. Reads that did not align to any of the aforementioned databases were then mapped to the host gDNA using STAR, version 2.5.4a (64) , again allowing a maximum of 2 mismatches per alignment. Remaining reads were classified as unmapped. Ribo-seq density and RNA-seq density were calculated for each gene in the EToV genome ( Fig. 3 and  12) . To normalize for different library sizes, reads per million mapped reads (RPM) values were calculated using the sum of positive-sense virus RNA reads and host RefSeq mRNA reads as the denominator. In order to standardize the regions used to calculate RNA-seq and Ribo-seq density, the following regions were selected: ORF1a, start codon (position 882) to 5= end of frameshift site (position 14518); ORF1b, 3= end of frameshift site (position 14525) to 5= end of the S gene hairpin (position 21118); all other ORFs, initiation codon to termination codon. For U2, a region overlapping ORF1a was used because only 46 bases are unique to U2. For Fig. 12 , the ORF1a coordinates were updated to exclude the region which overlaps U2, giving a range from 1552 to 21394. In addition, for all ORFs, only Ribo-seq reads mapping to the predominant phase (i.e., reads mapping to the first positions of codons) were used, as this should greatly diminish misassignment of ORF1a-translating ribosomes to U2 or vice versa. Reads mapping to the first five codons at the 5= end of each region or the last six codons at the 3= end of each region were excluded. For sgRNAs, RNA-seq density was calculated for the same regions as those described for Ribo-seq. For the genomic RNA the regions for ORF1a and ORF1b were combined into the interval from the start codon of ORF1a (position 882) to the 5= end of the S gene hairpin (position 21118). Ribo-seq and RNA-seq densities were calculated as the RPM values for which the 5= end maps to each region, divided by the length of the region in nucleotides and then multiplied by 1,000 (i.e., RPKM). For RNA-seq, a decumulation strategy was used to subtract the estimated RNA-seq density for longer overlapping genomic and subgenomic transcripts that would contribute to the RNA-seq density measured for each of the 3= ORFs: the genomic RNA-seq density was subtracted from all subgenomic densities, and then the RNA-seq densities of overlapping upstream subgenomic transcripts were iteratively subtracted from downstream regions (e.g., RNA-seq density in the unique region of M was subtracted from HE, and this was subtracted from N). Translation efficiency for each gene was calculated as Ribo-seq density/ decumulated RNA-seq density. Translational efficiencies for HE could not be accurately estimated, as the low expression of the HE transcript made the decumulation procedure for HE susceptible to noise. Read length distributions were calculated for Ribo-seq and RNA-seq reads mapping to positive-sense host mRNA annotated coding DNA sequences (CDSs) or to the positive-sense coding sequence of the EToV genome (Fig. 4) . Histograms of host mRNA Ribo-seq and RNA-seq 5=-end positions relative to initiation and termination codons ( Fig. 5 and 6) were derived from reads mapping to mRNAs with annotated CDSs of Ն450 nt in length and annotated 5= and 3= UTRs of Ն60 nt in length. Host mRNA Ribo-seq and RNA-seq phasing distribution (Fig. 7) calculations took into account interior regions of annotated coding ORFs only (specifically, reads for which the 5= end mapped between the first nucleotide of the initiation codon and 30 nt 5= of the termination codon) in order to exclude reads on or near initiation or termination codons. For viral genome coverage plots, but not for meta-analyses of host RefSeq mRNA coverage, mapping positions of RPF 5= ends were offset ϩ12 nt to approximate the location of the ribosomal P-site (17) . Analysis of viral transcripts. The EToV (Berne isolate) genome sequence was confirmed by de novo assembly of unmapped and vRNA reads from the infected RNA-seq samples. Assembly was performed using Trinity (65) with the default settings for stranded single-ended (-SS_lib type "F") data. Viral contigs were identified using BLASTN (29) against a database of EToV reference sequences based on the NCBI records listed above. The viral contig was aligned to the reference using the MAFFT L-INS-i method (66) . Chimeric reads were classified as reads for which the entire read mapped uniquely to the viral genome, with no mismatches, after adding a single breakpoint, with a minimum of 12 nt mapping on either side of the breakpoint, at least 5 nt apart. To identify such reads, all unmapped reads were split into two subreads at every possible position Ն12 nt from either end, and these subreads were mapped to the viral genome using bowtie with no mismatches and no multimapping permitted. Transcription junctions were defined as donor/acceptor pairs that were either supported by at least 10 chimeric reads or contained the entire 5= leader and TRS sequence in the 5= segment of the read. At some positions single-nucleotide resolution for the chimeric breakpoint could not be established. Where reads were found to break at adjacent possible positions, these positions were merged to give a short region containing the breakpoint. The number of nonchimeric reads spanning each donor and acceptor site was calculated as the number of reads which overlapped the site by at least 12 nt in either direction (as chimeric reads overlapping the site by Ͻ12 nt are not detectable). The proportion of chimeric reads at each donor or acceptor site is therefore the number of chimeric reads with a breakpoint at the site divided by this number plus the number of nonchimeric reads spanning the site (Fig. 8B) . To visualize TRS conservation, multiple-sequence alignments were generated using Clustal Omega with default parameters (67) . RNA structure was predicted using RNA-Alifold (68) and visualized using VARNA (69) . Differential gene expression analysis. For analysis of host differential expression between nondrug-treated infected and mock-infected cells, all reads which did not map to rRNA or vRNA were mapped to the EquCab2.0 reference genome and annotations (Ensembl release 89) using STAR (64) , with a maximum of two mismatches and removal of noncanonical, nonannotated splice junctions. Read counts were generated using HTSeq 0.8.0 (70) . For differential transcription analysis, gene level counts were generated across the Ensembl release 89 EquCab2.0 gtf file, filtered to include only protein-coding genes. For differential translation efficiency analysis, only coding regions (CDS) were considered: both RNA-seq and Ribo-seq counts were generated at the CDS level using intersection-strict mode, based on the same annotation set. Multimapping reads were excluded from both analyses. Differential transcript abundance analysis was performed using the standard DESeq2 (71) pipeline described in the vignette. Genes for which Ͻ10 reads were mapped were discarded. All recommended quality control plots were inspected, and no major biases were identified in the data. False discovery rate (FDR) values were calculated using the R fdrtool package (72) . Genes with a log 2 fold change of Ͼ1 and an FDR of less than 0.1 were considered to be differentially expressed. Gene ontology (GO) term enrichment analysis (73) was performed against a background of all horse protein-coding genes in the Ensembl gtf using a Fisher exact test and corrected for multiple testing with a Bonferroni correction. GO annotations for horse genes were downloaded from BiomaRt (Ensembl release 90) (74) . Differential translational efficiency analysis was carried out using the CDS counts table, normalized using the DESeq2 "sizeFactors" technique. Similar to the differential transcription analysis, genes to which Ͻ10 reads mapped were discarded. All recommended quality control plots for DESeq2 were inspected again, and no major biases were identified in the data. Differential translation efficiency analysis was performed using Xtail (75) by following the standard pipeline described in the vignette. P values were adjusted automatically within Xtail using the Benjamini-Hochberg method. Genes with a log 2 fold change of Ͼ1 and an adjusted P value of less than 0.1 were considered to be differentially translated. GO enrichment analysis was performed as described for the differential transcript abundance analysis. (52) . dN/dS was estimated using the codeml program in the PAML package (24) . The eight torovirus U1 nucleotide sequences were translated and aligned as amino acids with MUSCLE (77) , and the amino acid alignment was used to guide a codon-based nucleotide alignment (EMBOSS tranalign) (78) . Alignment columns with gap characters in any sequence were removed, resulting in a reduction from 81 to 79 codon positions. PhyML (79) was used to produce a nucleotide phylogenetic tree for the U1 alignment, and using this tree topology, dN/dS was calculated with codeml. The standard deviations for the codeml dN/dS value was estimated via a bootstrapping procedure in which codon columns of the alignment were randomly resampled (with replacement); 100 randomized alignments were generated, and their dN/dS values were calculated with codeml. Coding potential within each reading frame was analyzed using MLOGD (25) , and synonymous site conservation was analyzed with synplot2 (31) . For these analyses we generated a codon-respecting alignment of the eight torovirus full-genome sequences using a procedure described previously (31) . In brief, each individual genome sequence was aligned to a reference sequence using code2aln version 1.2 (80) . Breda virus (GenBank accession number AY427798) was used as a reference, since unlike Berne virus it contains an intact HE gene. Genomes were then mapped to reference sequence coordinates by removing alignment positions that contained a gap character in the reference sequence, and these pairwise alignments were combined to give the multiple-sequence alignment. This was analyzed with MLOGD using a 40-codon sliding window and a 5-codon step size. For each of the three reading frames, within each window the null model is that the sequence is noncoding, whereas the alternative model is that the sequence is coding in the given reading frame. Positive/negative values indicate that the sequences in the alignment are likely/unlikely to be coding in the given reading frame. To assess conservation at synonymous sites, the concatenated coding regions were extracted from the alignment and analyzed with synplot2. Data availability. The sequencing data reported in this paper have been deposited in ArrayExpress (http://www.ebi.ac.uk/arrayexpress) under the accession number E-MTAB-6656. The full-length virus sequence has been deposited in GenBank (accession no. MG996765). 


Section:materials and methods