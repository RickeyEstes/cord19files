Plasmid construction, viral genomic preparation and PCR amplification. The guide RNAs were cloned into sgRNA/Cas9n expression vector (Addgene plasmid px335) as previously described 17 . gE and TK homologous arms were amplified from PRV HNX strain by PCR. gEhm1-loxP-GFP-loxP-gEhm2 and TKhm1-loxN-mCherry-loxN-TKhm2 donor templates were constructed using overlapping PCR. The GFP were inserted into gE position in PRV-Becker BAC (a kind gift from Dr. L. W. Enquist) of which the virus were rescued in PK15 cell as previously described 33 . The PRV genomic DNA was extracted using the TIANamp virus DNA kit (TIANGEN) following the manufacturer's protocol. All the sequence of primers, sgRNAs, donor templates and antigenic genes are listed in supplementary data. 


Section:materials and methods