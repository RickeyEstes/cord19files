Using a high-resolution (1 m × 1 m) three-dimensional building database with building height information and digital elevation model (DEM), a self-developed program embedded as a VBA script in the ArcGIS system is applied to calculate the frontal area density ( f(z) ) at different height bands. The f(z) accounts for the annual wind probability from 16 main directions: where f(z,Â) represents the frontal area density at a particular wind direction (Â) and can be calculated with Eq. (2). P Â represents the annual probability of winds at a particular direction (Â). A statistical study was conducted to validate the FAD calculating method and resolution. Firstly, the cross sections of the new method was validated statistically to the sensitivity of the overall wind velocity ratio (VR w,i ), and to the change of the f(z) calculated with different methods (WITH and No cross sections) in different grid sizes. Secondly, based on the results of the statistical analysis, the resolution was further validated for mapping urban permeability in Hong Kong.  Based on the more traditional way of calculating FAD, the nonexisting walls in the new calculation method could cause the unrealistic surface roughness, however, for high density settings, the cross sections may be needed to avoid the underestimation of the surface roughness at the urban areas covered by large and closely packed buildings. Therefore, the correlations between the VR w,i and two methods of f(z) (WITH and NO cross sections) were compared. Wind velocity ratios were obtained from wind tunnel tests for Hong Kong (HKPD, 2008) . The values of VR w,i of 10 study areas in wind tunnel tests were used (Fig. 8) . In the wind tunnel tests, test points were uniformly distributed in each of the study areas. The VR w,i for each test point is described by (HKPD, 2008) : where P i represents the annual probability of winds approaching the study area from the wind direction (i), and VR 500,i,j represents the directional wind velocity ratio of the jth test point, the mean wind speed at 2 m above the ground with respect to the reference at 500 m (HKPD, 2008) . VR 500,i,j is defined as (HKPD, 2008) : where V p,i,j represents the mean wind speed of the jth test point at the pedestrian level (2 m above the ground) for wind direction (i), and V 500,i represents the mean wind speed of the jth test point at 500 m for wind direction (i) . As emphasized in Fig. 9 , when the study areas in wind tunnel tests were crossed by grids in the map, the average of f(z) for the study areas is calculated by where f i(z) represents the frontal area density in the ith grid, S i represents the area of the ith grid in the study area, and S t represents the area of the study (Fig. 9 ). The f(z) in the podium layer ( f(0-15 m) ) that corresponds to the four grid sizes (resolutions), namely 50, 100, 200, and 300 m, were calculated. The results (R 2 ) of statistic analysis in Table 1 illustrate that the new calculating method can also accurately predict the wind velocity ratio. As expected and shown in Fig. 10 , in accordance with values of the f(0-15 m) including the unreal flow-confronting areas are larger than the ones calculated by the more traditional Table 1 Correlation between VR w,j and f(0-15 m) in different resolutions and calculation methods. NO cross section method, and their correlations with VR w,j are similar. On the other hand, the values of f(0-15 m) in the Kowloon Peninsula calculated by the two methods were compared. In high density urban areas with large and closely packed buildings, the values of f(0-15 m) calculated by the no cross section method are less than 0.1; some of them are even close to 0. This is a serious underestimation to the surface roughness. Highlighted in Fig. 11 , the values by the new method in this study efficiently alleviated these underestimations by including the cross sections. Based on the validation, the following understanding can be stated: the values of the FAD by the new calculation method with cross sections can correctly predict the wind velocity ratio. Furthermore, compared with the traditional method of calculating the frontal area density, the new method can alleviated the underestimation of mapping urban surface roughness in high density cities with large and closely packed buildings. 


Section:development of a new method to calculate f(z) values
Section:validation of the method and resolution
Section:method with cross sections