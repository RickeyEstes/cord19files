Data acquisition and processing. YPF decoction is composed of Astragali Radix (Huang qi in Chinese, AR), Atractylodis Macrocephalae Rhizoma (Bai zhu in Chinese, AMR), and Saposhnikoviae Radix (Fang feng in Chinese, SR). First, the compound information of AR, AMR, and SR were collected from chemical databases, including the traditional Chinese medicines integrated database (TCMID, http://www.megabionet.org/ tcmid/, which contains information from the TCM@Taiwan, traditional Chinese medicine information database (TCM-ID), herbal ingredients' targets (HIT; accessed in May 2016) database, traditional Chinese medicine systems pharmacology (TCMSP; http://lsp.nwsuaf.edu.cn/tcmsp.php; accessed in May 2016) database, the cardiovascular disease herbal database (CVDHD, http://pkuxxj.pku.edu.cn/CVDHD/; accessed in May 2016), and the Chinese Academy of Sciences chemistry database (http://www.organchem.csdb.cn/scdb/; accessed in May 2016). Literature mining also supplemented the information from these databases. The common amino acids and compounds with high molecular weight, such as polysaccharides, were not included in this study. The names of compounds were standardised through SciFinder (https://scifinder.cas.org) according to the Chemical Abstracts Service (CAS) number. Additionally, these compounds' PubChem CIDs were obtained from PubChem (https:// pubchem.ncbi.nlm.nih.gov/) based on chemical names or structures. The protein targets of compounds from YPF decoction were predicted by similarity ensemble approach (SEA: http://sea.bkslab.org/) 25 , which is a chemical similarity searching-based prediction method recognised worldwide for its accuracy 77, 78 . Though the SEA method is capable of accounting only ~2,800 potential active proteins as alternative binding targets, the scale is consistent with the recent recognition of the druggable genome (~3000) [79] [80] [81] . In addition, the limitation of a chemical similarity searching-based prediction method, including the SEA, would be that the prediction is based on the two-dimensional (2D) structure (SMILE information) of compounds, which might produce the same potential targets of the isomeric compounds. Herein, it is not enough to predict solely using SEA or any other chemical similarity searching-based prediction method, when isomeric compound domains in the research. The NP-based study of YPF decoction involved 13 pairs of isomeric compounds in 352 compounds, which would interfere with the result slightly, from a holistic perspective. Then, enrichment analysis is used to acquire target-pathway interactions which are essential for the further network construction and analysis. The targets were further enriched to KEGG pathways to create the targetspathways relationship using the online tool STRING 82 (http://string-db.org/). The enriched KEGG pathways with false rate discovery (FDR) < 0.01 were used in the subsequent research. The Kyoto Encyclopedia of Genes and Genomes 26 (KEGG; http://www.genome.jp/kegg/pathway.html) was used to identify the diseases with which each pathway might be involved, the disease category information was used to represent the disease. The diseases that are affected by YPF decoction were retrieved from previous research. First, publications about the topic of YPF were extracted from the Web of Science, and the topic keywords were set as "yupingfeng", "Yu-Ping-Feng", or "gyokuheifusan" (the Japanese name of YPF decoction). Second, the relevant diseases' information was identified, where available. Then, the diseases were classified according to the KEGG database. Network construction and module identification. From a perspective of topology, the pathway-based associations between targets by enrichment analysis may be described as a network. A familiar representation is obtained by letting N be a set of nodes representing targets, and E be a set of edges where elements of E are unordered pairs of distinct nodes n i , n j representing a pathway-based link between a target pair {n i , n j }. The two sets together are called a simple network G = (N, E). Specifically speaking, a TPT network was established on the one-mode targets-targets interaction, which was transferred by Pajek software 83 from the two-mode "targets-pathways" relationship; then, the TPT network was visualised and analysed by Gephi software 84 . In the TPT network, the nodes refer to protein targets, and each set of two nodes is connected by an edge, which indicates that they are both involved in at least one of the same pathways. Next, the Louvain algorithm for module identification incorporated in Gephi 32 was adopted to explore the modularity structure of the TPT network. Since the targets in a module are connected by the same pathways or a functionally similar pathway, it was hypothesised that each module would exert a kind of specific function, and different modules would have effects on different diseases. Herein, an evaluation algorithm, named the contribution scoring algorithm, was established to weigh the contribution of each network module to various diseases and, further, to illustrate the TPT network. Contribution scoring algorithm. On the basis of an existing algorithm for measuring the associated intensity of individual elements between interactive sets 85, 86 , an indicator measuring the intensity of associating a specific network module with a specific disease, named a "contribution score (CS)" was established in this study by integrating the modularity partition of the TPT network, the targets-pathways interactions, and the pathwaysdiseases interactions. In this algorithm, the higher the value (contribution score), the greater the contribution made by the investigated module for a particular disease. Then, the targets in the module with a significant high value toward relevant diseases affected by YPF were considered to be its potential therapeutic targets. The contribution scoring algorithm is defined as follows: where X ij is a subset of P and refers to the pathways that are relevant to m i and d j simultaneously, and where C m d i j refers to the CS of m i to d j , which is the sum of the contribution of m i to d j through all its relevant p w in X ij . The value of C m d i j varies from 0 to 1: the higher the value, the greater the contribution m i might make to d j ; and all the modules contribute 1 to a particular disease. Below, an example is given to demonstrate the application of the contribution scoring algorithm. The Fig. 7 (a) represents a TPT network with modules identified, and the Fig. 7 (b) represents a pipeline which was abstracted from Fig. 7(a) . The TPT network was divided into three modules: module 1 (m 1 ), module 2 (m 2 ), and module 3 (m 3 ). Since p 1 and p 2 connected the protein targets from only one module, m 1 , the contribution of m 1 to p 1 or p 2 could be calculated as As p 3 and p 4 were contributed to by the protein targets from m 1 and m 2 , and from m 2 and m 3 , separately, the contribution of m 1 or m 2 to m 3, and from m 1 or m 3 to m 4 , could be calculated as and since all three modules were related to p 5 , the contribution of m 1 , m 2 , or m 3 to p 5 could be calculated as could be calculated: C m d 1 1 shared the highest value, indicating that the targets in m 1 contributed the most to d 1 in the TPT network. That is, the targets in m 1 might exert the most potential therapeutic proclivity toward d 1 compared with the targets in other modules. Additionally, the total contribution of the three modules to d 1 was 1. Statistical validation. The CS, which reflected the contribution of each target module to relevant diseases, could be calculated from the established contribution scoring algorithm. To validate the hypothesis that different modules would have effects on different diseases, the association between network modules and therapeutic diseases was examined by chi-square (χ 2 ) test. The verification of the contribution scoring algorithm based on the information of targets and approved drugs was also conducted by chi-square (χ 2 ) test. where TI i denotes the importance of target i, DC i , BC i , and CC i , and EC i denotes the degree, betweenness, closeness, and eigenvector centrality of target i, respectively; meanwhile, max (DC) , max (BC) , max (CC) , and max (EC) denote the maximum degree, betweenness, closeness, and eigenvector centrality in the therapeutic target module. The value of TI i varied from 0 to 1, and the higher the value shared by a target, the more important the target was in the network from the topological perspective.  