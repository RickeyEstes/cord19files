We study the model described in the previous section by means of extensive Monte Carlo simulations with synchronous update using a two-layer network of the same size N = 10 5 . Nodes in each layer represent the same agent, thus we connect through an external link a pair of nodes, each from different layer, allowing only one interlink by node. We construct each layer using the Molloy-Reed algorithm [51] considering the Erdős-Rényi (ER) [52] degree distribution with hki = 4. The propagation of the disease takes place in layer A and we fix the recovery time in t r = 6, which is in days the characteristic period of infection for a flu. Layer B is the social network, where the M-model rules the dynamic, with M = 2. As initial conditions we use for the layer B an uniform distribution for the densities of opinion, i.e., the same initial probability P +2,+1,−1,−2 = 1/4. In layer A we have initially only one agent infected, which is considered the patient zero and whose opinion is chosen at random between the four possible opinion states, a fraction 1/4 of the agents are vaccinated ones, as a consequence of their opinion state +2, and the rest are susceptible. We chose one source node of infection because this is the standard approach used by epidemiologists where most outbreaks starts with one person. At each time steps, we first let evolve the epidemic dynamic and then the opinion process. In layer A, we allow all the infected individuals to infect each one of their susceptible neighbors with probability β and the vaccinated neighbors with a probability (1 − ω)β. Then, in the opinion layer, we iterate over all the individuals and give each one of them the chance to interact with only one of its neighbors. This neighbor is chosen among those who can change the individual opinion. In case there is no neighbor that can change the opinion, nothing happen. Finally, we update all the opinions and epidemic states at the next time step. Notice that those infected individuals who had t r time step to spread the disease recover and those susceptible individuals whose opinion change to +2 change into the vaccinated state. All numerical results correspond to an average over 10 5 independent realizations. We concentrate in the steady state of the system which is reached when the number of infected nodes becomes zero, regardless of whether consensus was reached in the opinion network. Then, the magnitudes to be studied are the fraction of recovery nodes (R), the fraction of vaccinated nodes (V), the duration time of the epidemic (τ) and the magnetization of the opinions (Mag). Notice that at any time S + I + R + V = 1 and Mag = σ + − σ − , where σ ± is the fraction of nodes with positive (negative) opinion state. We only take into account those realizations in which an epidemic occurs, i.e., the total number of recovered individuals in the final state is greater than a cutoff 200 for a system size of N = 10 5 [53] . Now, we will present in further details R, V, τ and Mag as a function of the efficiency of the vaccine ω, for different values of the parameters r and β. In Fig 2 we present the case r = 0.1, that mimics a scenario in which the population's opinion settles in a centralized state where the compromise process dominates. In Fig 2(a) we show the total fraction of recovery nodes as a function of ω for different values of β. We can observe that for certain values of β, as ω increases the fraction R decreases and above a value ω Ã , which is a threshold for the efficiency of the vaccine, the system does not present an epidemic phase and corresponds to the inflection point of the curve. This is because as the vaccine becomes more effective, more people remain vaccinated and the propagation of the disease slows down. An efficiency above the threshold ω > ω Ã is enough to ensure that an epidemic will not develop, such as the case of low values of β. For example for β = 0.1 we need an efficiency of at least 55% in order to avoid the epidemic. On the other hand, above a certain value of β Ã the propagation of the disease is enhanced and it is impossible to prevent an epidemic. Even for ω = 1 there will be a macroscopic number of recovery individuals in the steady state. This is the case for the values β = 0.4, 0.6 and 0.8. Fig 2(b) and 2(c) shows the fraction of vaccinated nodes and the magnetization of the opinions as a function of ω. For all the values of β we can see that both magnitudes increases with ω. This is consistent with the fact that as the vaccine becomes more efficient, more people will agree to get vaccinated. For r = 0.1 the compromise is higher than the persuasion and as a consequence agents tend to have moderate opinions (in favor or against). However, when an agent is vaccinated, his opinion (2) remains fixed producing an attractive effect towards positive opinion and he will only change his opinion if he gets infected. As can see from Fig 2(c) , for low values of efficiency Mag decreases as β increases, for example, for β = 0.8 agents opinion are in a polarized state (Mag = 0). This behavior is due to the fact that as β increases more vaccinated agents gets infected, so their opinion change from 2 to −2, which means that more people become extremist against the vaccine. On the other hand, for an efficiency close to one, the opinion of the system is in average almost completely in favor of the vaccine, reaching a consensus where all the agents have the same opinion. Because the efficiency of the vaccine is high the vaccinated agents stay pinned in the opinion +2, pushing all the agents to adopt their opinion. Notice that in this scenario the convergence time of both dynamics are similar, i.e, the time that it takes to the disease to propagates all over the population allows the people to reach consensus in favor of the vaccine. In Fig 2(d) we can see the duration time of the epidemic as a function of ω. As we can observe as ω increases more nodes are vaccinated and as a consequence the duration of the disease increases. Around the threshold ω Ã the time of the epidemic exhibits a peak and then decreases rapidly. This is consistent with the fact that as ω increases the number of R decreases, which means that it is hard to spread the disease and therefore τ increases. The time of duration of the epidemic reaches a maximum at ω Ã and then decreases because the spreading of the disease is diminish (there is no epidemic). Note that for ω > ω Ã the majority of the agents in the system are vaccinated. We added an inset in Fig 2, (as well as in the following ones), comparing the duration of the epidemics with the derivatives of the number of recovered (R) and vaccinated (V) agents as a function of the efficiency. It is possible to see that there is an inflection point (a maximum in the derivatives) when the duration of the epidemics is maximum, meaning that the number of recovered and vaccinated agents increase at a lower rate when the efficacy of the vaccine is high than when the efficacy is low, going trough a maximum rate when the duration of the epidemics is maximum. In Fig 3 we show the case of r = 1, which mimics a neutral society where the probability of compromise and persuasion are equal (p = q = 0.5) . Fig 3(a) shows R as a function ω. We can observe that an efficiency threshold exists (for low values of β) below which the diseases never becomes an epidemic. While for higher values of β there is always an epidemic phase. In Fig 3  (c) we show Mag as a function of ω. From the plot we can see that for low values of ω the magnetization decreases as β increases, while for an efficiency close to one the system reaches consensus in favor of the vaccine. Besides, for low values of ω and high values of β, Mag becomes negative because of the persuasive effect, which is not negligible. Agents with negative opinion Epidemic spreading in multiplex networks influenced by opinion exchanges on vaccination are less likely to change their opinion. Also, since the vaccine is not much effective, vaccinated agents gets infected, thus their opinions change to negative and this contributes to a negative magnetization. On the other hand, we can see that for large values of ω the convergence time of both dynamics are similar, the Mag in the opinion dynamic is close to one, thus is close to the consensus state. The opposite occurs for the other values of ω, where the model of opinions is far from consensus. Now we will show the case of r = 10, which represents an extremist society where persuasion dominates the process of opinion formation. In this case, agents with extremist opinion tend to convince agents with moderate opinion to become extremists. From Fig 4(a) and 4(d) we can see that the behavior of R and the time duration of the epidemic τ are qualitative the same that for the two previous cases studied of r with different β Ã . Agents become extremist in their opinions and those who are against the vaccine have a small probability to be vaccinated. Then the disease spreads is promoted among the non vaccinated agents, which are an important fraction of the population. In Fig 4(b) and 4(c) we can observe that V and Mag increase as ω increases, and for the cases below β Ã (as β = 0.1) both magnitudes increase with ω until reaching a peak around ω Ã after which these magnitudes decreases. This is due to the fact that above the point ω Ã , the time of the epidemic decreases as ω increases, and there is not enough time to convince the negative opinion agents to vaccinate. As the persuasion is higher than compromise (p = 0.91 and q = 0.09), agents tend to remain with extremist opinions, against or in favor of the vaccine. The attractor effect that generate the vaccinated agents in the opinion state is now hidden by the persuasive effect. The persuasive effect moves agents to the extreme opinions. When a vaccinated agent is infected, its opinion becomes a negative extremist and in this extremist society he will rarely change his opinion. For this reason, for all values of β and low values of ω the Mag is always negative. On the other hand, for high values of the efficiency the average opinion of the system can be in favor or against depending of the virulence, but in general it is polarized and as a consequence, Mag closed to zero. Even for the case in which ω = 1 there still some agents that are against the vaccine. This is due to the fact that almost all agents that began with negative opinion remains in that state. Notice that the epidemic dynamics is faster than the dynamics of opinions -the convergence time is higher in layer B-making that the population never reach a consensus of opinions. We mentioned before that there is a threshold β Ã above which the system always stay in an epidemic regime, independently of the efficiency of the vaccine, ω. In Fig 5 we show β Ã as a function of r for t r = 6 and ω = 1. We set ω = 1, so that the vaccine is 100% effective, in order to know how strong the virulence of the disease has to be to win the best vaccination scenario. In addition, we also study this scenario for different values of initial vaccinated nodes -1%, 5% and 25%-to see how the initial conditions impacts on the evolution of both dynamics. As we can see from Fig 5, for a certain value of r, β Ã decreases as the initial vaccinated nodes decreases. This is consistent with the fact that having fewer initial vaccinated nodes causes the disease to spread more easily, so that less virulent diseases could become epidemic. As we can observe that the maximum values are around r % 1, which means that a neutral society is optimal to prevent an epidemic. In a society with r << 1, compromise dominates the process of opinion formation and the agents tend to have a moderate opinion. This prevents those moderate agents from becoming extremists in favor of vaccination. The disease spreads through the non vaccinated agents very easily, even when the virulence is small. On the other hand, in a society with r >> 1, persuasion dominates the process of opinion formation and the agents tend to adopt extremists opinion. All extremists agents in favor of vaccination will be vaccinated, but those agents with a negative opinion (against the vaccine) have a small probability to be vaccinated because they will hardly change their opinion. In this case, the disease spreads very easily over these agents, which are an important fraction of the population. In a neutral society it is more likely for an agent with a positive moderate opinion to become an extremist in favor of the vaccine than in the case r << 1, and it is more likely for an agent against the vaccine to change his opinion in favor than in the case r >> 1. For this reason, β Ã is higher than in the other cases, because it is easier to convince people to get vaccinated, making more difficult for the disease to expand all over population. 


Section:simulation results