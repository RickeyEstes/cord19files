This research compares the results of clustering of the two-stage approach and SOM clustering analysis. Different clusters would result in different grouping of members, which would lead to great differences of the mean values (cluster center). Thus, this research uses coefficient of variance (CV) to measure the level of member concentration within a group. It is the most common statistic measurement for relative dispersion, which is the ratio of absolute dispersion measurement to some central tendency statistic measurement. As demonstrated in formula (13), it is the percentage of the ratio of standard deviation to the mean value. 4.2.2. Evaluation of recommendation system Precision and recall are used in this research as indices to evaluate the effects of the recommendation system; F1 is also used to represent the effects of combining precision and recall.  This research combines customer profile module and customer cluster profile module to enhance the effects of recommendation in order to make up for the weakness of using only one approach. For customer cluster profile module, this research uses two-stage clustering in the hope of gaining a better effect. Thus the procedure is divided into two parts, as shown in Table 3 . Integrating SOM and K-means for clustering can improve the problems of group fuzzy partition in SOM, and if the number of groups generated by SOM is used as the value of K in K-means, it will avoid the problem that K-means must undergo a trialand-error process to find out the improved value of K: Thus, in experiment 1, the research focuses on verifying whether two-stage clustering approach can better concentrate members of the same similarity into one group than SOM clustering, while also testing whether it can effectively determine the value of K: (1) Experiment design. Experiment 1 of this research is divided into two procedures, as shown in Fig. 5 . In procedure 1, the research aims to prove whether two-stage clustering has a better effect than just using SOM. Thus the 140 test objects were clustered by a two-stage approach and SOM, while the member concentration of a group is compared. The input variable for clustering is based on the customers sum of money spent on all purchases in order to lower the shortcomings of over-detailed categorization, which may increase the difficulty, dispersion, or decrease the speed. As demonstrated in Fig. 6 , experiment 1 adopts the users' money spent on seven categories of movies as the variables of the two clustering approaches. The experiment target is the two-stage clustering, while the comparison target is the approach of SOM. Prior to clustering, customers' transaction data must be transformed into data matrix of transaction amount spent on each movie type, as shown in Table 4 . For SOM clustering, this research adopts Clementine 6.5 to implement the task. The learning speed (Eta 1) is set at 0.3, and the decreasing speed of learning (Eta 2) is set at 0.1. The initial neighboring radius is set at 3, and the decreasing speed of neighboring radius is set at 1. After SOM completes training stages, the trained model then progresses to the first level of clustering in order to rapidly receive the number of groups in stage 2. The comparison experiment completes this experiment in this stage, and the experiment group continues to stage 2 for K-means clustering. The clustering results in stage 1 are each used to calculate groups' centers for the beginning centers of K-means. The concentration of group members is calculated by dividing the group's standard deviation by group's mean value, which is also the center of a cluster. Then each group's CV is obtained, and finally the weighted CV is calculated to compare the level of member concentration of the two approaches. The weighted mean value is the number of members in a group times the group's CV divided by total numbers of data for obtaining more objective mean value. In experiment 2, SOM is tested to see whether it can effectively determine the value of K in K-means. Thus the best number of groups ðKÞ from experiment 1 is compared with different values of K in K-means, and average CV is used to compare the level of concentration of the group members. (2) Experiment results. Procedure 1: Comparison of group member concentration of two-stage clustering and SOM. In experiment 1, the research uses SOM (Eta 1 ¼ 0.3, Eta 1 ¼ 0.1) to cluster 140 customers. Fig. 6 shows each group's member distribution in experiment 1. In the first stage of SOM, 140 sets of data are grouped into nine (3 £ 3) output neurons, as shown in Fig. 6 . The second stage adopts K ¼ 9 and the centers of nine neurons are treated as the beginning centers of K-means clustering, to readjust the members in a group, shown in Fig. 7 . The comparison group adopts the cluster results in stage 1 and the standard deviation of each of the two groups is compared with the CV, as shown in Tables 5 and 6. The members in experiment group and comparison group have different mean values. Thus this research adopts CV in order to compare the dispersions within a group. In Fig. 8 , it is discovered that aside from type2, type3, and type7, where the average CV of two-stage clustering is higher than that of SOM, the remaining four variables all have the results that two-stage clustering has the lower average CV. Fig. 9 is the comparison after summing up the CV's of all seven variables. The CV value of two-stage clustering is 7.077, which is lower than SOM's 7.642. This shows two-stage clustering has resulted in higher concentration of its cluster members than that of SOM. Procedure 2: Test whether clustering in stage 1 can effectively determine the value of K in stage 2. In procedure 2, the same 140 data are again used and divided into 7, 8, 10, and 11 clusters by K-means clustering, and then compared with the nine clusters in experiment 1 to further calculate the average CV of clusters of 7, 8, 10, and 11. Table 7 demonstrates that experiment groups' (9 clusters) total CV (7.0768) and average CV (1.011) all appeared lower than other cluster numbers. This proves that SOM can effectively determine the value of K in K-means clustering. Fig. 10 is the bar chart of each cluster's CV sum by using K-means clustering. It is rather obvious that the total CV of nine clusters is the lowest, which shows that the member concentration is the highest. 


Section:evaluation of clustering result
Section:experiment procedures and results